<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Flat Earth Variants — Explained & Debunked</title>
<style>
  :root{
    --bg:#0f172a;          /* slate-900 */
    --panel:#111827;       /* gray-900 */
    --muted:#94a3b8;       /* slate-400 */
    --text:#e5e7eb;        /* gray-200 */
    --accent:#22d3ee;      /* cyan-400 */
    --accent-2:#a78bfa;    /* violet-400 */
    --ok:#34d399;          /* emerald-400 */
    --warn:#fbbf24;        /* amber-400 */
    --danger:#fb7185;      /* rose-400 */
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background: radial-gradient(1200px 600px at 70% -10%, #1f2937 0%, var(--bg) 50%) fixed;
    color:var(--text);
    font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
  }
  header{
    padding:2rem 1rem 1rem;
    text-align:center;
  }
  header h1{
    margin:.2rem 0 .5rem;
    letter-spacing:.2px;
    font-size: clamp(1.4rem, 2.5vw, 2rem);
  }
  header p{margin:0;color:var(--muted)}
  .wrap{
    max-width:1100px;
    margin:0 auto;
    padding:1rem;
  }
  .controls{
    display:grid;
    grid-template-columns: 1fr;
    gap:.75rem;
    margin:1rem 0 1.25rem;
  }
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
    border:1px solid rgba(255,255,255,.06);
    border-radius:16px;
    padding:1rem;
    box-shadow: 0 10px 30px rgba(0,0,0,.25);
    backdrop-filter: blur(6px);
  }
  select, button{
    width:100%;
    padding:.85rem 1rem;
    border-radius:12px;
    border:1px solid rgba(255,255,255,.15);
    background:#0b1220;
    color:var(--text);
    font-weight:600;
    outline:none;
  }
  select:focus{border-color:var(--accent)}
  .grid{
    display:grid;
    grid-template-columns: 1fr;
    gap:1rem;
  }
  .section h2{
    margin:.2rem 0 .4rem;
    font-size:1.05rem;
    letter-spacing:.2px;
    color:#fff;
  }
  .pill{
    display:inline-block;
    border:1px solid rgba(255,255,255,.15);
    border-radius:999px;
    padding:.2rem .6rem;
    font-size:.85rem;
    color:var(--muted);
    margin-left:.4rem;
  }
  .desc{color:#dbeafe}
  .experiment{
    display:grid;
    grid-template-columns: 1fr;
    gap:.75rem;
  }
  .steps{
    margin:.3rem 0 0;
    padding-left:1rem;
    color:#e2e8f0;
  }
  .steps li{margin:.25rem 0}
  .note{color:var(--muted); font-size:.95rem; margin:.5rem 0 0}
  svg{
    width:100%;
    height:auto;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.08);
    background:#0b1220;
  }
  .badge-row{
    display:flex; gap:.5rem; flex-wrap:wrap; margin:.5rem 0 .25rem
  }
  .badge{
    font-size:.8rem; padding:.25rem .55rem; border-radius:999px; border:1px solid rgba(255,255,255,.15); color:var(--muted)
  }
  footer{opacity:.8; color:var(--muted); text-align:center; padding:1rem; font-size:.9rem}
  @media(min-width:900px){
    .grid{grid-template-columns: 1.1fr .9fr}
  }
</style>
</head>
<body>
<header>
  <h1>Flat-Earth Variants — quick guide & simple falsifications</h1>
  <p>Select a variant to see a concise description, a diagram, and a cheap, do-at-home experiment that disproves it.</p>
</header>

<div class="wrap">
  <div class="controls card">
    <label for="modelSel" class="section">
      <h2 style="margin-bottom:.6rem">Choose a flat-earth variant</h2>
      <select id="modelSel" aria-label="Flat earth model selector"></select>
    </label>
    <div class="badge-row" id="tagsRow"></div>
  </div>

  <div class="grid">
    <section class="card section" id="modelCard">
      <h2>Variant overview <span class="pill" id="variantName"></span></h2>
      <p class="desc" id="variantDesc"></p>
      <div id="modelDiagram" aria-label="Model diagram" style="margin-top:.6rem"></div>
      <p class="note" id="modelNote"></p>
    </section>

    <section class="card section">
      <h2>Simple experiment that falsifies it</h2>
      <div class="experiment">
        <div id="expDiagram" aria-label="Experiment diagram"></div>
        <div>
          <ol class="steps" id="expSteps"></ol>
          <p class="note" id="expNote"></p>
          <div class="badge-row">
            <span class="badge" style="border-color:rgba(16,185,129,.35); color:#bbf7d0">Cost: low</span>
            <span class="badge" style="border-color:rgba(250,204,21,.35); color:#fde68a" id="timeBadge">Time: ~</span>
            <span class="badge" style="border-color:rgba(56,189,248,.35); color:#bae6fd" id="gearBadge">Gear: ~</span>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>

<footer>
  Science is a method, not a tribe — run the experiment, look at the result.
</footer>

<script>
/** ---------- Data: variants with descriptions, steps, and SVG renderers ---------- **/

const variants = [
  {
    id:"ae-dome",
    name:"Classic Disc with Ice Wall & Dome (AE map)",
    tags:["Antarctica as edge","Single North Pole","‘Firmament’"],
    desc:`The Earth is a circular disc with the North Pole at the centre and Antarctica as an ice wall at the rim, covered by a dome. The Sun and Moon are small lights circling above.`,
    note:`This layout cannot simultaneously explain southern star trails centred on a southern point and consistent time zones & flight distances.`,
    experiment:{
      title:"Eratosthenes’ two-stick shadow test",
      time:"1–2 days (waiting for local noon)",
      gear:"Two sticks, a tape measure, a phone for coordinates/time",
      steps:[
        "Pick two cities ~500–1,000 km apart roughly north–south (e.g., London & Madrid).",
        "At local solar noon on the same day, place a vertical stick and measure its shadow length.",
        "Calculate the Sun’s angle at each site: arctan(stick height / shadow length).",
        "Subtract the angles to get the angular separation. Multiply by Earth’s radius (or compute circumference = 360/angle × baseline).",
        "Result matches a sphere (~40,000 km). A disc with a small overhead Sun predicts much larger distortions with latitude."
      ],
      note:`On a disc with a nearby overhead Sun, the shadow angle difference does not scale linearly with distance; the spherical prediction does, matching measurement.`,
      drawModel: () => `
        <svg viewBox="0 0 800 420" role="img">
          <defs>
            <radialGradient id="sea" cx="50%" cy="50%" r="60%">
              <stop offset="0%" stop-color="#0ea5e9"/>
              <stop offset="100%" stop-color="#0b1220"/>
            </radialGradient>
            <linearGradient id="dome" x1="0" x2="0" y1="1" y2="0">
              <stop offset="0%" stop-color="#0ea5e922"/>
              <stop offset="100%" stop-color="#a78bfa33"/>
            </linearGradient>
          </defs>
          <rect width="100%" height="100%" fill="#071019"/>
          <!-- disc -->
          <circle cx="400" cy="260" r="170" fill="url(#sea)" stroke="#22d3ee55"/>
          <!-- ice wall -->
          <circle cx="400" cy="260" r="176" fill="none" stroke="#e5e7eb66" stroke-width="6" />
          <!-- north pole -->
          <circle cx="400" cy="260" r="4" fill="#fff"/>
          <text x="410" y="256" fill="#cbd5e1" font-size="12">North Pole</text>
          <!-- continents (schematic) -->
          <path d="M400,210 q30,-15 60,10 q-20,25 -60,25 q-40,-10 -55,-25 q20,-20 55,-10" fill="#86efac44" stroke="#22c55e66"/>
          <path d="M330,260 q-25,0 -35,15 q10,25 35,20 q20,-5 25,-20 q-10,-15 -25,-15" fill="#86efac33" stroke="#22c55e66"/>
          <!-- dome -->
          <path d="M220,260 A180,180 0 0 1 580,260" fill="url(#dome)" stroke="#a78bfa66"/>
          <!-- sun & moon lights -->
          <circle cx="520" cy="170" r="10" fill="#fde68a" />
          <circle cx="300" cy="150" r="8" fill="#e5e7eb" opacity=".8"/>
          <text x="535" y="170" fill="#fde68a" font-size="12">Sun</text>
          <text x="315" y="150" fill="#e5e7eb" font-size="12">Moon</text>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Classic AE disc model</text>
        </svg>
      `,
      drawExperiment: () => `
        <svg viewBox="0 0 800 420" role="img">
          <rect width="100%" height="100%" fill="#071019"/>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Eratosthenes: two sticks, same time, different latitudes</text>
          <!-- Sun rays -->
          <g stroke="#fde68a" stroke-width="2" opacity=".9">
            <line x1="740" y1="40" x2="520" y2="140"/>
            <line x1="740" y1="80" x2="520" y2="180"/>
            <line x1="740" y1="120" x2="520" y2="220"/>
          </g>
          <circle cx="740" cy="80" r="18" fill="#fde68a"/>
          <!-- ground -->
          <line x1="60" y1="330" x2="740" y2="330" stroke="#334155" stroke-width="3"/>
          <!-- City A stick -->
          <g>
            <rect x="180" y="230" width="6" height="100" fill="#93c5fd"/>
            <line x1="183" y1="330" x2="260" y2="300" stroke="#60a5fa" stroke-width="4"/>
            <text x="160" y="350" fill="#cbd5e1">City A</text>
            <text x="265" y="300" fill="#93c5fd" font-size="12">Shadow A</text>
          </g>
          <!-- City B stick -->
          <g>
            <rect x="520" y="210" width="6" height="120" fill="#93c5fd"/>
            <line x1="523" y1="330" x2="565" y2="318" stroke="#60a5fa" stroke-width="4"/>
            <text x="500" y="350" fill="#cbd5e1">City B</text>
            <text x="570" y="318" fill="#93c5fd" font-size="12">Shadow B</text>
          </g>
          <!-- angles -->
          <path d="M183,330 A36,36 0 0 1 210,315" fill="none" stroke="#22d3ee"/>
          <text x="195" y="318" fill="#22d3ee" font-size="12">θ₁</text>
          <path d="M523,330 A24,24 0 0 1 540,321" fill="none" stroke="#22d3ee"/>
          <text x="540" y="323" fill="#22d3ee" font-size="12">θ₂</text>
          <text x="300" y="70" fill="#bbf7d0" font-size="14">θ₂ − θ₁ ≈ arc angle between cities → matches a sphere</text>
        </svg>
      `
    }
  },

  {
    id:"infinite-plane",
    name:"Infinite Plane",
    tags:["No edge","Endless land/sea"],
    desc:`The Earth is an endless flat expanse; horizons are just where vision fades. Sun and stars are local lights above the plane.`,
    note:`If the plane were infinite, horizon distance would not systematically increase with observer height. But it does, following spherical geometry.`,
    experiment:{
      title:"Horizon distance vs. height with a phone & a drone",
      time:"30–60 minutes",
      gear:"A beach/cliff, a phone GPS/altitude app, a small camera drone (optional)",
      steps:[
        "At sea level, record your eye height (≈1.6 m). Note the distance to the horizon using a landmark chart or map line-of-sight to a known object that vanishes at the horizon.",
        "Go higher (a balcony/cliff/drone footage with telephoto), then repeat.",
        "You’ll find horizon distance increases roughly as √height. On a sphere, d ≈ 3.57×√h (km with h in metres).",
        "An infinite plane with ‘atmospheric fade’ predicts no such square-root law tied to height."
      ],
      note:`You don’t need perfect numbers — the key is the clear, repeatable square-root relationship with height.`,
      drawModel: () => `
        <svg viewBox="0 0 800 420">
          <rect width="100%" height="100%" fill="#071019"/>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Infinite plane concept</text>
          <rect x="0" y="290" width="800" height="130" fill="#0b1220" stroke="#1f2937"/>
          <line x1="0" y1="290" x2="800" y2="290" stroke="#334155" />
          <circle cx="640" cy="120" r="14" fill="#fde68a"/><text x="660" y="120" fill="#fde68a" font-size="12">Local Sun</text>
          <g fill="#86efac22" stroke="#22c55e44">
            <rect x="50" y="260" width="120" height="30"/>
            <rect x="210" y="260" width="120" height="30"/>
            <rect x="370" y="260" width="120" height="30"/>
            <rect x="530" y="260" width="120" height="30"/>
          </g>
          <text x="420" y="200" fill="#93c5fd" text-anchor="middle">Horizon supposed to be ‘just visibility’</text>
        </svg>
      `,
      drawExperiment: () => `
        <svg viewBox="0 0 800 420">
          <rect width="100%" height="100%" fill="#071019"/>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Horizon distance ∝ √height</text>
          <!-- sea -->
          <rect x="0" y="330" width="800" height="90" fill="#0b1220"/>
          <line x1="0" y1="330" x2="800" y2="330" stroke="#334155"/>
          <!-- observer levels -->
          <g>
            <circle cx="120" cy="326" r="8" fill="#a78bfa"/><text x="100" y="350" fill="#cbd5e1">h₁ ≈ 1.6 m</text>
            <circle cx="120" cy="250" r="8" fill="#a78bfa"/><text x="100" y="240" fill="#cbd5e1">h₂</text>
            <circle cx="120" cy="170" r="8" fill="#a78bfa"/><text x="100" y="160" fill="#cbd5e1">h₃</text>
          </g>
          <!-- sight lines to horizon -->
          <g stroke="#22d3ee" stroke-width="2">
            <line x1="120" y1="326" x2="350" y2="330"/>
            <line x1="120" y1="250" x2="520" y2="330"/>
            <line x1="120" y1="170" x2="720" y2="330"/>
          </g>
          <text x="370" y="345" fill="#93c5fd">d₁</text>
          <text x="540" y="345" fill="#93c5fd">d₂</text>
          <text x="740" y="345" fill="#93c5fd">d₃</text>
          <text x="460" y="80" fill="#bbf7d0">On a sphere: d ≈ 3.57√h (km)</text>
        </svg>
      `
    }
  },

  {
    id:"spotlight-sun",
    name:"Local ‘Spotlight’ Sun over a Disc",
    tags:["Small nearby Sun","Variable daylight cone"],
    desc:`The Sun is a small lamp circling above the disc, lighting a local patch like a spotlight; day/night come from the spot moving, not from Earth’s rotation.`,
    note:`A nearby spotlight Sun would appear larger when overhead and smaller near the horizon; in reality the Sun’s angular size stays ~constant through the day.`,
    experiment:{
      title:"Measure the Sun’s angular size with a pinhole projector",
      time:"30 minutes at any sunny time (never look at the Sun directly!)",
      gear:"Cardboard, pin, ruler, white paper, tape; or a solar-filtered camera",
      steps:[
        "Make a tiny pinhole in card; tape it a known distance L from a white sheet to project a solar disc.",
        "Measure the projected disc diameter D at several times (morning, noon, evening).",
        "Angular size ≈ D / L (radians). You’ll find it stays ~0.53° throughout the day.",
        "A nearby spotlight Sun would grow/shrink markedly with distance — which it does not."
      ],
      note:`Safety first: never look at the Sun through lenses. Pinhole projection is safe; solar filters for cameras are also fine if you have one.`,
      drawModel: () => `
        <svg viewBox="0 0 800 420">
          <rect width="100%" height="100%" fill="#071019"/>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Spotlight Sun model</text>
          <circle cx="400" cy="300" r="170" fill="#0b1220" stroke="#22d3ee55"/>
          <circle cx="400" cy="300" r="176" fill="none" stroke="#e5e7eb33" stroke-width="6" />
          <circle cx="580" cy="120" r="16" fill="#fde68a"/>
          <text x="600" y="120" fill="#fde68a" font-size="12">Sun</text>
          <!-- spotlight cone -->
          <path d="M580,120 L520,260 L640,260 Z" fill="#fde68a22" stroke="#fde68a55"/>
          <circle cx="580" cy="120" r="3" fill="#fff"/>
          <!-- day patch -->
          <ellipse cx="580" cy="270" rx="60" ry="26" fill="#fb923c22" stroke="#fb923c66"/>
          <text x="540" y="315" fill="#fca5a5">Lit area</text>
        </svg>
      `,
      drawExperiment: () => `
        <svg viewBox="0 0 800 420">
          <rect width="100%" height="100%" fill="#071019"/>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Pinhole projection to track angular size</text>
          <!-- Sun icons -->
          <circle cx="120" cy="90" r="16" fill="#fde68a"/><text x="100" y="120" fill="#fde68a" font-size="12">Morning</text>
          <circle cx="400" cy="60" r="16" fill="#fde68a"/><text x="380" y="90" fill="#fde68a" font-size="12">Noon</text>
          <circle cx="680" cy="90" r="16" fill="#fde68a"/><text x="665" y="120" fill="#fde68a" font-size="12">Evening</text>
          <!-- pinhole rig -->
          <rect x="120" y="200" width="560" height="8" fill="#334155"/>
          <rect x="240" y="180" width="10" height="50" fill="#94a3b8"/>
          <circle cx="245" cy="180" r="2" fill="#e5e7eb"/>
          <rect x="520" y="160" width="6" height="90" fill="#94a3b8"/>
          <rect x="526" y="160" width="120" height="90" fill="#0b1220" stroke="#475569"/>
          <!-- projected discs identical -->
          <circle cx="560" cy="205" r="14" fill="none" stroke="#22d3ee"/>
          <circle cx="560" cy="205" r="14" fill="none" stroke="#22d3ee"/>
          <text x="540" y="270" fill="#93c5fd">Measure D at times → constant</text>
          <text x="260" y="240" fill="#cbd5e1">Distance L</text>
        </svg>
      `
    }
  },

  {
    id:"bi-polar",
    name:"Bi-Polar Flat Map (two poles on a flat surface)",
    tags:["Two poles on map","Sheet-map universe"],
    desc:`A reworked flat map claims both North and South poles exist on a plane, with continents distorted to fit.`,
    note:`This predicts extreme southern distances and travel times that don’t match reality, and cannot reproduce southern star trails around a common point.`,
    experiment:{
      title:"Check Southern Hemisphere direct flights or star trails",
      time:"30–60 minutes (desk research) or one clear night (stars)",
      gear:"Flight timetables/trackers; or a camera pointed due south in Australia/SA",
      steps:[
        "Compare great-circle distances with actual non-stop flight times (e.g., Sydney–Johannesburg ~11–14 h; Sydney–Santiago ~12–13 h).",
        "On a stretched flat map these routes are vastly longer and would require impossible speeds or fuel.",
        "Alternatively, film time-lapse star trails facing due south in Australia or South Africa — arcs form around a single southern point (σ Octantis region), which requires a sphere."
      ],
      note:`Either travel timing or southern star rotation alone falsifies a flat bi-polar layout.`,
      drawModel: () => `
        <svg viewBox="0 0 800 420">
          <rect width="100%" height="100%" fill="#071019"/>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Bi-polar flat map (schematic distortions)</text>
          <rect x="60" y="70" width="680" height="280" fill="#0b1220" stroke="#22d3ee55"/>
          <circle cx="180" cy="210" r="8" fill="#fff"/><text x="165" y="235" fill="#cbd5e1">N</text>
          <circle cx="620" cy="210" r="8" fill="#fff"/><text x="610" y="235" fill="#cbd5e1">S</text>
          <path d="M220,150 q120,-40 260,20 q-80,60 -260,30 q-60,-10 -100,-25 q40,-30 100,-25" fill="#86efac33" stroke="#22c55e66"/>
          <path d="M550,250 q60,0 100,40 q-30,35 -100,20 q-60,-15 -70,-40 q30,-20 70,-20" fill="#86efac22" stroke="#22c55e55"/>
          <!-- exaggerated south -->
          <path d="M600,300 q80,10 120,30" stroke="#fca5a5" fill="none" stroke-dasharray="5 4"/>
          <text x="610" y="320" fill="#fca5a5" font-size="12">South stretched → predicts long flights</text>
        </svg>
      `,
      drawExperiment: () => `
        <svg viewBox="0 0 800 420">
          <rect width="100%" height="100%" fill="#071019"/>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Southern flights & star trails</text>
          <!-- flights panel -->
          <rect x="40" y="60" width="340" height="300" fill="#0b1220" stroke="#334155"/>
          <text x="60" y="90" fill="#e5e7eb">Flight reality</text>
          <text x="60" y="120" fill="#93c5fd" font-size="14">SYD–SCL ~ 12–13 h</text>
          <text x="60" y="145" fill="#93c5fd" font-size="14">SYD–JNB ~ 11–14 h</text>
          <text x="60" y="170" fill="#93c5fd" font-size="14">AKL–SCL ~ 10–11 h</text>
          <text x="60" y="205" fill="#bbf7d0">Flat bi-polar map would need</text>
          <text x="60" y="225" fill="#bbf7d0">much higher speeds/fuel</text>
          <!-- star trails panel -->
          <rect x="420" y="60" width="340" height="300" fill="#0b1220" stroke="#334155"/>
          <text x="440" y="90" fill="#e5e7eb">Southern star trails</text>
          <circle cx="590" cy="210" r="100" fill="none" stroke="#22d3ee55"/>
          <circle cx="590" cy="210" r="2" fill="#fff"/>
          <g stroke="#22d3ee" opacity=".9">
            <path d="M590,110 A100,100 0 0 1 690,210" fill="none"/>
            <path d="M590,110 A100,100 0 0 0 490,210" fill="none"/>
            <path d="M590,310 A100,100 0 0 1 490,210" fill="none"/>
            <path d="M590,310 A100,100 0 0 0 690,210" fill="none"/>
          </g>
          <text x="520" y="325" fill="#93c5fd">Trails rotate about a southern point</text>
        </svg>
      `
    }
  },

  {
    id:"pacman",
    name:"‘Pac-Man’ Edge Wrapping",
    tags:["Teleport edge","Looping world"],
    desc:`Travellers reaching the disc’s rim ‘wrap’ to the opposite side, like a video game map.`,
    note:`Real circumnavigation and continuous navigation data show no jumps: compasses, stars, and GPS positions change smoothly across all longitudes.`,
    experiment:{
      title:"Continuous GPS track on long drives/flights",
      time:"Whenever you travel",
      gear:"Any phone with offline GPS logging (no SIM/data needed)",
      steps:[
        "Install an offline GPS logger (many free options) and record position & heading on a long east–west trip or flight.",
        "Plot the recorded path on any free map tool.",
        "You’ll get a smooth line crossing meridians with continuous bearings; no ‘wrap’ jumps occur.",
        "Repeat in the opposite direction — still continuous. The sky (Sun, stars) also shifts smoothly with longitude."
      ],
      note:`Even without GPS, a magnetic compass and star positions change continuously across time zones — there’s no discontinuity to ‘wrap’.`,
      drawModel: () => `
        <svg viewBox="0 0 800 420">
          <rect width="100%" height="100%" fill="#071019"/>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Pac-Man wrap idea</text>
          <rect x="90" y="80" width="620" height="260" fill="#0b1220" stroke="#22d3ee55"/>
          <polygon points="95,210 85,200 85,220" fill="#fde68a"/>
          <polygon points="705,210 715,200 715,220" fill="#fde68a"/>
          <text x="110" y="210" fill="#fde68a">Exit</text>
          <text x="660" y="210" fill="#fde68a">Enter</text>
          <path d="M120,210 C260,120 540,120 680,210" stroke="#a78bfa" fill="none" stroke-width="3" stroke-dasharray="8 6"/>
          <text x="180" y="120" fill="#a78bfa">Imagined jump across the edge</text>
        </svg>
      `,
      drawExperiment: () => `
        <svg viewBox="0 0 800 420">
          <rect width="100%" height="100%" fill="#071019"/>
          <text x="20" y="30" fill="#e2e8f0" font-size="16">Real-world continuous track</text>
          <rect x="60" y="60" width="680" height="300" fill="#0b1220" stroke="#334155"/>
          <!-- smooth path -->
          <path d="M100,280 C180,240 260,220 340,210 S500,210 560,190 S660,160 700,150" stroke="#22d3ee" fill="none" stroke-width="3"/>
          <circle cx="100" cy="280" r="4" fill="#22d3ee"/>
          <circle cx="700" cy="150" r="4" fill="#22d3ee"/>
          <text x="100" y="305" fill="#93c5fd">Start</text>
          <text x="690" y="140" fill="#93c5fd">End</text>
          <text x="160" y="100" fill="#bbf7d0">No discontinuities → no ‘wrap’</text>
        </svg>
      `
    }
  }
];

/** ---------- Render logic ---------- **/

const sel = document.getElementById('modelSel');
const nameEl = document.getElementById('variantName');
const descEl = document.getElementById('variantDesc');
const modelDiagram = document.getElementById('modelDiagram');
const modelNote = document.getElementById('modelNote');
const expDiagram = document.getElementById('expDiagram');
const expSteps = document.getElementById('expSteps');
const expNote = document.getElementById('expNote');
const timeBadge = document.getElementById('timeBadge');
const gearBadge = document.getElementById('gearBadge');
const tagsRow = document.getElementById('tagsRow');

function option(label, value){ const o=document.createElement('option'); o.textContent=label; o.value=value; return o; }

function renderTags(list){
  tagsRow.innerHTML = '';
  list.forEach(t => {
    const span = document.createElement('span');
    span.className = 'badge';
    span.textContent = t;
    tagsRow.appendChild(span);
  });
}

function renderVariant(v){
  nameEl.textContent = v.name;
  descEl.textContent = v.desc;
  modelDiagram.innerHTML = v.experiment.drawModel();
  modelNote.textContent = v.note;
  expDiagram.innerHTML = v.experiment.drawExperiment();
  expSteps.innerHTML = v.experiment.steps.map(s=>`<li>${s}</li>`).join('');
  expNote.textContent = v.experiment.note;
  timeBadge.textContent = `Time: ${v.experiment.time}`;
  gearBadge.textContent = `Gear: ${v.experiment.gear}`;
  renderTags(v.tags || []);
  // smooth scroll into view on mobile when switching
  document.getElementById('modelCard').scrollIntoView({behavior:'smooth', block:'start'});
}

function init(){
  variants.forEach(v => sel.appendChild(option(v.name, v.id)));
  sel.addEventListener('change', ()=>{
    const v = variants.find(x => x.id === sel.value);
    if(v) renderVariant(v);
  });
  // default
  sel.value = variants[0].id;
  renderVariant(variants[0]);
}
init();

/** ---------- Accessibility niceties ---------- **/
document.addEventListener('keydown', (e)=>{
  if(e.key==='ArrowRight' || e.key==='ArrowLeft'){
    const i = variants.findIndex(v=>v.id===sel.value);
    let j = i + (e.key==='ArrowRight'?1:-1);
    if(j<0) j = variants.length-1;
    if(j>=variants.length) j = 0;
    sel.value = variants[j].id;
    sel.dispatchEvent(new Event('change'));
  }
});
</script>
</body>
</html>
